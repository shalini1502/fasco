{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import'./ProductDetail.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductDetail=_ref=>{let{addToCart}=_ref;const{id}=useParams();const[product,setProduct]=useState(null);const[loading,setLoading]=useState(true);const[quantity,setQuantity]=useState(1);const[selectedSize,setSelectedSize]=useState('');const[selectedColor,setSelectedColor]=useState('');useEffect(()=>{fetchProduct();},[id]);const fetchProduct=async()=>{try{const response=await fetch(`/api/products/${id}`);if(response.ok){const data=await response.json();setProduct(data);if(data.sizes.length>0){setSelectedSize(data.sizes[0]);}if(data.colors.length>0){setSelectedColor(data.colors[0]);}}else{console.error('Product not found');}setLoading(false);}catch(error){console.error('Error fetching product:',error);setLoading(false);}};const handleAddToCart=()=>{if(product){addToCart(product.id,quantity);setQuantity(1);}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading product...\"})]});}if(!product){return/*#__PURE__*/_jsxs(\"div\",{className:\"error-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Product not found\"}),/*#__PURE__*/_jsx(Link,{to:\"/products\",className:\"btn btn-primary\",children:\"Back to Products\"})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"product-detail\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-detail-grid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-image-section\",children:/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name,className:\"product-detail-image\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info-section\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"}),\" /\",/*#__PURE__*/_jsx(Link,{to:\"/products\",children:\"Products\"}),\" /\",/*#__PURE__*/_jsx(\"span\",{children:product.name})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"product-title\",children:product.name}),/*#__PURE__*/_jsx(\"p\",{className:\"product-category\",children:product.category}),/*#__PURE__*/_jsx(\"div\",{className:\"product-price\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"price\",children:[\"\\u20B9\",product.price]})}),/*#__PURE__*/_jsx(\"p\",{className:\"product-description\",children:product.description}),product.sizes&&product.sizes.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"product-option\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Size:\"}),/*#__PURE__*/_jsx(\"select\",{value:selectedSize,onChange:e=>setSelectedSize(e.target.value),children:product.sizes.map(size=>/*#__PURE__*/_jsx(\"option\",{value:size,children:size},size))})]}),product.colors&&product.colors.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"product-option\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Color:\"}),/*#__PURE__*/_jsx(\"select\",{value:selectedColor,onChange:e=>setSelectedColor(e.target.value),children:product.colors.map(color=>/*#__PURE__*/_jsx(\"option\",{value:color,children:color},color))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-actions\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"quantity-selector\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Quantity:\"}),/*#__PURE__*/_jsx(\"select\",{value:quantity,onChange:e=>setQuantity(parseInt(e.target.value)),children:[1,2,3,4,5].map(num=>/*#__PURE__*/_jsx(\"option\",{value:num,children:num},num))})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary add-to-cart-btn\",onClick:handleAddToCart,disabled:!product.inStock,children:product.inStock?'Add to Cart':'Out of Stock'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"product-meta\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Availability:\"}),\" \",product.inStock?'In Stock':'Out of Stock']})})]})]})})});};export default ProductDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","jsx","_jsx","jsxs","_jsxs","ProductDetail","_ref","addToCart","id","product","setProduct","loading","setLoading","quantity","setQuantity","selectedSize","setSelectedSize","selectedColor","setSelectedColor","fetchProduct","response","fetch","ok","data","json","sizes","length","colors","console","error","handleAddToCart","className","children","to","src","image","alt","name","category","price","description","value","onChange","e","target","map","size","color","parseInt","num","onClick","disabled","inStock"],"sources":["C:/Users/ojash/Downloads/new1/frontend/src/components/ProductDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport './ProductDetail.css';\r\n\r\nconst ProductDetail = ({ addToCart }) => {\r\n  const { id } = useParams();\r\n  const [product, setProduct] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [selectedSize, setSelectedSize] = useState('');\r\n  const [selectedColor, setSelectedColor] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchProduct();\r\n  }, [id]);\r\n\r\n  const fetchProduct = async () => {\r\n    try {\r\n      const response = await fetch(`/api/products/${id}`);\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setProduct(data);\r\n        if (data.sizes.length > 0) {\r\n          setSelectedSize(data.sizes[0]);\r\n        }\r\n        if (data.colors.length > 0) {\r\n          setSelectedColor(data.colors[0]);\r\n        }\r\n      } else {\r\n        console.error('Product not found');\r\n      }\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching product:', error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAddToCart = () => {\r\n    if (product) {\r\n      addToCart(product.id, quantity);\r\n      setQuantity(1);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading-container\">\r\n        <div className=\"loading\"></div>\r\n        <p>Loading product...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!product) {\r\n    return (\r\n      <div className=\"error-container\">\r\n        <h2>Product not found</h2>\r\n        <Link to=\"/products\" className=\"btn btn-primary\">Back to Products</Link>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"product-detail\">\r\n      <div className=\"container\">\r\n        <div className=\"product-detail-grid\">\r\n          <div className=\"product-image-section\">\r\n            <img \r\n              src={product.image} \r\n              alt={product.name} \r\n              className=\"product-detail-image\"\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"product-info-section\">\r\n            <nav className=\"breadcrumb\">\r\n              <Link to=\"/\">Home</Link> / \r\n              <Link to=\"/products\">Products</Link> / \r\n              <span>{product.name}</span>\r\n            </nav>\r\n            \r\n            <h1 className=\"product-title\">{product.name}</h1>\r\n            <p className=\"product-category\">{product.category}</p>\r\n            \r\n            <div className=\"product-price\">\r\n              <span className=\"price\">â‚¹{product.price}</span>\r\n            </div>\r\n            \r\n            <p className=\"product-description\">{product.description}</p>\r\n            \r\n            {product.sizes && product.sizes.length > 0 && (\r\n              <div className=\"product-option\">\r\n                <label>Size:</label>\r\n                <select \r\n                  value={selectedSize} \r\n                  onChange={(e) => setSelectedSize(e.target.value)}\r\n                >\r\n                  {product.sizes.map(size => (\r\n                    <option key={size} value={size}>{size}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            )}\r\n            \r\n            {product.colors && product.colors.length > 0 && (\r\n              <div className=\"product-option\">\r\n                <label>Color:</label>\r\n                <select \r\n                  value={selectedColor} \r\n                  onChange={(e) => setSelectedColor(e.target.value)}\r\n                >\r\n                  {product.colors.map(color => (\r\n                    <option key={color} value={color}>{color}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            )}\r\n            \r\n            <div className=\"product-actions\">\r\n              <div className=\"quantity-selector\">\r\n                <label>Quantity:</label>\r\n                <select \r\n                  value={quantity} \r\n                  onChange={(e) => setQuantity(parseInt(e.target.value))}\r\n                >\r\n                  {[1, 2, 3, 4, 5].map(num => (\r\n                    <option key={num} value={num}>{num}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              \r\n              <button \r\n                className=\"btn btn-primary add-to-cart-btn\"\r\n                onClick={handleAddToCart}\r\n                disabled={!product.inStock}\r\n              >\r\n                {product.inStock ? 'Add to Cart' : 'Out of Stock'}\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"product-meta\">\r\n              <p><strong>Availability:</strong> {product.inStock ? 'In Stock' : 'Out of Stock'}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetail; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}