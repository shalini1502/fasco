{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route}from'react-router-dom';import Navbar from'./components/Navbar';import Home from'./components/Home';import Products from'./components/Products';import ProductDetail from'./components/ProductDetail';import Cart from'./components/Cart';import Footer from'./components/Footer';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[cart,setCart]=useState([]);const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);// Fetch products on component mount\nuseEffect(()=>{fetchProducts();},[]);const fetchProducts=async()=>{try{const response=await fetch('/api/products');const data=await response.json();setProducts(data);setLoading(false);}catch(error){console.error('Error fetching products:',error);setLoading(false);}};const addToCart=async function(productId){let quantity=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;try{const response=await fetch('/api/cart',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({productId,quantity})});const updatedCart=await response.json();setCart(updatedCart);}catch(error){console.error('Error adding to cart:',error);}};const updateCartItem=async(productId,quantity)=>{try{const response=await fetch(`/api/cart/${productId}`,{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({quantity})});const updatedCart=await response.json();setCart(updatedCart);}catch(error){console.error('Error updating cart:',error);}};const removeFromCart=async productId=>{try{const response=await fetch(`/api/cart/${productId}`,{method:'DELETE'});const updatedCart=await response.json();setCart(updatedCart);}catch(error){console.error('Error removing from cart:',error);}};const clearCart=async()=>{try{await fetch('/api/cart',{method:'DELETE'});setCart([]);}catch(error){console.error('Error clearing cart:',error);}};const getCartItemCount=()=>{return cart.reduce((total,item)=>total+item.quantity,0);};const getCartTotal=()=>{return cart.reduce((total,item)=>total+item.product.price*item.quantity,0);};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',height:'100vh',fontSize:'1.2rem'},children:\"Loading...\"});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navbar,{cartItemCount:getCartItemCount()}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{products:products,addToCart:addToCart})}),/*#__PURE__*/_jsx(Route,{path:\"/products\",element:/*#__PURE__*/_jsx(Products,{products:products,addToCart:addToCart})}),/*#__PURE__*/_jsx(Route,{path:\"/product/:id\",element:/*#__PURE__*/_jsx(ProductDetail,{addToCart:addToCart})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(Cart,{cart:cart,updateCartItem:updateCartItem,removeFromCart:removeFromCart,clearCart:clearCart,getCartTotal:getCartTotal})})]})}),/*#__PURE__*/_jsx(Footer,{})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navbar","Home","Products","ProductDetail","Cart","Footer","jsx","_jsx","jsxs","_jsxs","App","cart","setCart","products","setProducts","loading","setLoading","fetchProducts","response","fetch","data","json","error","console","addToCart","productId","quantity","arguments","length","undefined","method","headers","body","JSON","stringify","updatedCart","updateCartItem","removeFromCart","clearCart","getCartItemCount","reduce","total","item","getCartTotal","product","price","style","display","justifyContent","alignItems","height","fontSize","children","className","cartItemCount","path","element"],"sources":["C:/Users/ojash/Downloads/new1/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\r\nimport Navbar from './components/Navbar';\r\nimport Home from './components/Home';\r\nimport Products from './components/Products';\r\nimport ProductDetail from './components/ProductDetail';\r\nimport Cart from './components/Cart';\r\nimport Footer from './components/Footer';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const [cart, setCart] = useState([]);\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Fetch products on component mount\r\n  useEffect(() => {\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  const fetchProducts = async () => {\r\n    try {\r\n      const response = await fetch('/api/products');\r\n      const data = await response.json();\r\n      setProducts(data);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching products:', error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const addToCart = async (productId, quantity = 1) => {\r\n    try {\r\n      const response = await fetch('/api/cart', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ productId, quantity }),\r\n      });\r\n      const updatedCart = await response.json();\r\n      setCart(updatedCart);\r\n    } catch (error) {\r\n      console.error('Error adding to cart:', error);\r\n    }\r\n  };\r\n\r\n  const updateCartItem = async (productId, quantity) => {\r\n    try {\r\n      const response = await fetch(`/api/cart/${productId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ quantity }),\r\n      });\r\n      const updatedCart = await response.json();\r\n      setCart(updatedCart);\r\n    } catch (error) {\r\n      console.error('Error updating cart:', error);\r\n    }\r\n  };\r\n\r\n  const removeFromCart = async (productId) => {\r\n    try {\r\n      const response = await fetch(`/api/cart/${productId}`, {\r\n        method: 'DELETE',\r\n      });\r\n      const updatedCart = await response.json();\r\n      setCart(updatedCart);\r\n    } catch (error) {\r\n      console.error('Error removing from cart:', error);\r\n    }\r\n  };\r\n\r\n  const clearCart = async () => {\r\n    try {\r\n      await fetch('/api/cart', {\r\n        method: 'DELETE',\r\n      });\r\n      setCart([]);\r\n    } catch (error) {\r\n      console.error('Error clearing cart:', error);\r\n    }\r\n  };\r\n\r\n  const getCartItemCount = () => {\r\n    return cart.reduce((total, item) => total + item.quantity, 0);\r\n  };\r\n\r\n  const getCartTotal = () => {\r\n    return cart.reduce((total, item) => total + (item.product.price * item.quantity), 0);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{ \r\n        display: 'flex', \r\n        justifyContent: 'center', \r\n        alignItems: 'center', \r\n        height: '100vh',\r\n        fontSize: '1.2rem'\r\n      }}>\r\n        Loading...\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <Navbar cartItemCount={getCartItemCount()} />\r\n        <main>\r\n          <Routes>\r\n            <Route path=\"/\" element={<Home products={products} addToCart={addToCart} />} />\r\n            <Route path=\"/products\" element={<Products products={products} addToCart={addToCart} />} />\r\n            <Route \r\n              path=\"/product/:id\" \r\n              element={<ProductDetail addToCart={addToCart} />} \r\n            />\r\n            <Route \r\n              path=\"/cart\" \r\n              element={\r\n                <Cart \r\n                  cart={cart}\r\n                  updateCartItem={updateCartItem}\r\n                  removeFromCart={removeFromCart}\r\n                  clearCart={clearCart}\r\n                  getCartTotal={getCartTotal}\r\n                />\r\n              } \r\n            />\r\n          </Routes>\r\n        </main>\r\n        <Footer />\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}